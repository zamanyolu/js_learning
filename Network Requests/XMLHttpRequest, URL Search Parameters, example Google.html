<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body style="margin:0">

<script>

    let url = new URL('https://google.com/search');
    url.searchParams.set('q', 'test me!');

    let xhr = new XMLHttpRequest();

    xhr.open('GET',url);
    xhr.send();

    xhr.onload = () => {
        alert(getAllResponseHeaders());
        if(xhr.status != 200){
            alert(`Error ${xhr.status}: ${xhr.statusText}`);
        }else{
            alert(`Done, got ${xhr.response.length} bytes`);

            p = document.createElement('p');
            p.innerText = xhr.responseText;
            document.append(p);
        }
    };

    xhr.onprogress = (event)=>{
        if(event.lengthComputable){
            alert(`Received ${event.loaded} of ${event.total} bytes`);
        }else{
            alert(`Received ${event.loaded} bytes`)
        }
    };

    xhr.onerror = (e)=>{
        alert("Request failed");
        alert(e.getAllResponseHeaders());
    }

</script>
</body>
</html>